学习笔记

## JavaScript对象：我们真的需要模拟类吗？
原型系统，是一个非常优秀的抽象对象的形式。

**什么是原型？**
“基于原型”的编程看起来更为提倡程序员去关注一系列对象实例的行为，
而后采取关系如何将这些对象，划分到最近的使用方式相似的原型对象，而不是将它们分成类。

**JavaScript的原型**
JS的原型系统：
* 如果所有对象都有私有字段[[prototype]]，就是对象的原型；
* 读一个属性，如果对象本身没有，则会继续访问对象的原型，知道原型为空或者找到为止。

**ES6中的类**
在任何场景，都推荐使用ES6的语法来定义类，而令function回归原本的函数语义。
类的写法实际上也是由原先运行时来承载的，逻辑上JavaScript认为每个类都是有共同原型的一组对象，类中
定义的方法和属性则会被写原型对象之上。

当我们使用类的思想来设计代码时，应该尽量使用class来声明类，而不是用就语法，拿函数来模拟对象。

## JavaScript对象：你知道全部的对象分类吗？

**JavaScript中的对象分类**
* 宿主对象（host Objects）：有JavaScript宿主环境提供的对象，他们的行为完全由宿主环境决定。
* 内置对象（Built-in Object）由JavaScript语言提供的对象。

   * 固有对象（Intrinsic Objects）：由标准规定，随着JavaScript运行时创建二自动创建的对象实例。

   * 原生对象（Native Objects）：可以由用户通过Array、RegExp等内置构造器或者特殊语法创建的对象。

   * 普通对象（Ordinary Objects）：由{}语法、Object构造器或者class关键字定义类创建的对象，它能够被原型继承。

**宿主对象**
浏览器全局对象window上的属性，一部分来自JavaScript语言，一部分来自浏览器环境。

**内置对象-固有对象**
固有对象在任何JavaScript代码执行前就已经被创建出来了，他们通常扮演着类似基础库的角色。

**用对象来模拟函数与构造器：函数对象与构造器对象**
函数对象的定义：具有[[call]]私有字段的对象，构造器对象的定义是：具有使用字段[[construct]]的对象。

**特殊行为的对象**

* Array: Array的length属性根据最大的下标自动发生变化。
* Object.prototype: 作为所有正常对象的默认原型，不能再给他设置原型了。
* String: 为了支持下标运算，String的正整数属性访问会去字符串里查找。
* Arguments: arguments的非负整数型下标属性根对应的变量联动。
* 模块的namespace对象：特殊的地方很多，跟一般对象完全不一样，尽量只用于import吧。
* 类型数组和数组缓冲区：跟内存块相关联，下标运算比较特殊。
* bind后的function: 跟原来的函数相关联。