<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>

/*
Unicode是一个符号集，规定了符号的二进制代码，
没有规定这个二进制代码应该如何存储（即占用多少个字节）所以出现了不同的存储实现方式。

Unicode符号范围     UTF8编码方式
0~127               0xxxxxxx
128~2047            110xxxxx 10xxxxxx
2048~65535          1110xxxx 10xxxxxx 10xxxxxx
65536~1114111       11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
*/
function utf8Encoding(str) {
    let buffer = [];

    for (let i = 0, len = str.length; i < len; i++) {
        let curCodePoint = str.charCodeAt(i);
        
        if (curCodePoint >= 65536 && curCodePoint <= 1114111) {
            buffer.push((curCodePoint >> 18) | 0xf0);
            buffer.push(((curCodePoint >> 12) & 0x3f) | 0x80);
            buffer.push(((curCodePoint >> 6) & 0x3f) | 0x80);
            buffer.push((curCodePoint & 0x3f) | 0x80);
        } else if (curCodePoint >= 2048) {
            buffer.push((curCodePoint >> 12) & 0xe0);
            buffer.push(((curCodePoint >> 6) & 0x3f) | 0x80);
            buffer.push((curCodePoint & 0x3f) | 0x80);
        } else if (curCodePoint >= 128) {
            buffer.push((curCodePoint >> 6) & 0xc0);
            buffer.push((curCodePoint & 0x3f) | 0x80);
        } else {
            buffer.push(curCodePoint);
        }
    }

    console.log(buffer.map((item) => {
        return item.toString(2)
    }));

    return buffer;
}

utf8Encoding("故人西辞黄鹤楼")

var a = 2;
void function() {
    a = 1;
    {
        const a = 3;
    }
}();
console.log(a);
</script>
</body>
</html>